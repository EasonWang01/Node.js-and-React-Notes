# D3

一個可以簡單用 JS 操作 SVG 的框架。

主要會使用到包含：

```javascript
<line> elements for the edges
<text> elements for the labels
<circle> elements to represent the nodes
<g> elements as containers that move the nodes and labels together
```

1.選擇元素

```javascript
d3.select('')
d3.selectAll('')
```

2.設定屬性

```javascript
d3.select('').attr('width', 20)
```

設定 style

```javascript
.style("fill", "#69b3a2")
```

3.新增元素

```javascript
d3.select('').append("svg")
```

4.設定相關範圍，讓數值縮小

```javascript
const x = d3.scaleLinear()
    .domain([0, 4000]) // 數值範圍
    .range([ 0, width ]); // 實際顯示範圍
```

5.傳入資料並且遍歷

> 記得 append 前要用 selectAll 相同東西，不然不會顯示

```javascript
const data = [{...}...]

d3.select('#test')
    .selectAll('circle')
    .data(data)
    .enter() // 類似forEach
    .append("circle")
```

6.添加座標軸

```javascript
const data = [{
  case: 23,
}....]

let aScale = d3
    .scaleLinear()
    .domain([0, d3.max(data, (d) => d.cases)])
    .range([0, 300]);
  
  d3.select("#scatterplot #x-axis")
    .call(d3.axisBottom(aScale).ticks(5));
```

7. 加上動畫

```javascript
    .transition()
    .duration(1000)
```



